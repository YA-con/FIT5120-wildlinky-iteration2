{"ast":null,"code":"var _jsxFileName = \"/Users/lioz/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/03b737568ad6e2cb5183b41f2df2a83c/Message/MessageTemp/07602ef1725db587cc704e534ab2060a/File/FIT5120-wildlinky-iteration2(1)/src/view/PolicyModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport styles from \"./Policy.module.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PolicyModal = ({\n  onClose\n}) => {\n  _s();\n  const [policies, setPolicies] = useState([]);\n  const [showAll, setShowAll] = useState({});\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:5000/api/policies-with-supporters\").then(res => res.json()).then(data => setPolicies(data)).catch(err => console.error(\"Failed to fetch policies:\", err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.modalOverlay,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.policyModalContent,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.closeButton,\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.sectionTitle,\n        children: \"Parliamentary Votes on Australia's Environmental Future\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"#911\",\n          fontWeight: \"600\",\n          textAlign: \"center\",\n          marginBottom: \"20px\"\n        },\n        children: [\"These are key national issues that have been voted on in the Australian Parliament \\u2014 including topics like forest protection, wildlife conservation, and climate action.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), \"We show which elected representatives have supported or opposed these policies based on how they voted in Parliament.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.policyGrid,\n        children: policies.map(policy => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.policyCard,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83C\\uDF31 \", policy.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: policy.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Supporters in Victoria:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, this), policy.supporters.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              children: (showAll[policy.id] ? policy.supporters : policy.supporters.slice(0, 3)).map((s, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2705 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: s.full_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 27\n                }, this), \", \", s.party]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this), policy.supporters.length > 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.showMoreButton,\n              onClick: () => setShowAll(prev => ({\n                ...prev,\n                [policy.id]: !prev[policy.id]\n              })),\n              children: showAll[policy.id] ? \"âˆ’ Less\" : \"+ More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontStyle: \"italic\",\n              color: \"#555\"\n            },\n            children: \"None\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, policy.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n_s(PolicyModal, \"rK4pd9PFscoJc7YlmWfHe2ihMas=\");\n_c = PolicyModal;\nexport default PolicyModal;\nvar _c;\n$RefreshReg$(_c, \"PolicyModal\");","map":{"version":3,"names":["React","useEffect","useState","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","PolicyModal","onClose","_s","policies","setPolicies","showAll","setShowAll","fetch","then","res","json","data","catch","err","console","error","className","modalOverlay","children","policyModalContent","closeButton","onClick","fileName","_jsxFileName","lineNumber","columnNumber","sectionTitle","style","color","fontWeight","textAlign","marginBottom","policyGrid","map","policy","policyCard","name","description","supporters","length","id","slice","s","idx","full_name","party","showMoreButton","prev","fontStyle","_c","$RefreshReg$"],"sources":["/Users/lioz/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/03b737568ad6e2cb5183b41f2df2a83c/Message/MessageTemp/07602ef1725db587cc704e534ab2060a/File/FIT5120-wildlinky-iteration2(1)/src/view/PolicyModal.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styles from \"./Policy.module.css\";\n\nconst PolicyModal = ({ onClose }) => {\n  const [policies, setPolicies] = useState([]);\n  const [showAll, setShowAll] = useState({});\n\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:5000/api/policies-with-supporters\")\n      .then((res) => res.json())\n      .then((data) => setPolicies(data))\n      .catch((err) => console.error(\"Failed to fetch policies:\", err));\n  }, []);\n\n  return (\n    <div className={styles.modalOverlay}>\n      <div className={styles.policyModalContent}>\n        <button className={styles.closeButton} onClick={onClose}>\n          Ã—\n        </button>\n        <h2 className={styles.sectionTitle}>Parliamentary Votes on Australia's Environmental \n        Future</h2>\n        <p\n          style={{\n            color: \"#911\",\n            fontWeight: \"600\",\n            textAlign: \"center\",\n            marginBottom: \"20px\",\n          }}\n        >\n          These are key national issues that have been voted on in the\n          Australian Parliament â€” including topics like forest protection,\n          wildlife conservation, and climate action.\n          <br />\n          We show which elected representatives have supported or opposed these\n          policies based on how they voted in Parliament.\n        </p>\n\n        <div className={styles.policyGrid}>\n          {policies.map((policy) => (\n            <div key={policy.id} className={styles.policyCard}>\n              <h3>ðŸŒ± {policy.name}</h3>\n              <p>{policy.description}</p>\n              <p>\n                <strong>Supporters in Victoria:</strong>\n              </p>\n              {policy.supporters.length > 0 ? (\n                <>\n                  <ul>\n                    {(showAll[policy.id]\n                      ? policy.supporters\n                      : policy.supporters.slice(0, 3)\n                    ).map((s, idx) => (\n                      <li key={idx}>\n                        âœ… <strong>{s.full_name}</strong>, {s.party}\n                      </li>\n                    ))}\n                  </ul>\n                  {policy.supporters.length > 3 && (\n                    <button\n                      className={styles.showMoreButton}\n                      onClick={() =>\n                        setShowAll((prev) => ({\n                          ...prev,\n                          [policy.id]: !prev[policy.id],\n                        }))\n                      }\n                    >\n                      {showAll[policy.id] ? \"âˆ’ Less\" : \"+ More\"}\n                    </button>\n                  )}\n                </>\n              ) : (\n                <p style={{ fontStyle: \"italic\", color: \"#555\" }}>None</p>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PolicyModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}